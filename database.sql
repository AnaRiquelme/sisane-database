-- MySQL Script generated by MySQL Workbench
-- jue 01 dic 2016 20:15:05 CET
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema sisane
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `sisane` ;

-- -----------------------------------------------------
-- Schema sisane
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `sisane` DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ;
USE `sisane` ;

-- -----------------------------------------------------
-- Table `sisane`.`importancia`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`importancia` ;

CREATE TABLE IF NOT EXISTS `sisane`.`importancia` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`servicio`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`servicio` ;

CREATE TABLE IF NOT EXISTS `sisane`.`servicio` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  `id_paciente` INT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`tipo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`tipo` ;

CREATE TABLE IF NOT EXISTS `sisane`.`tipo` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`paciente`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`paciente` ;

CREATE TABLE IF NOT EXISTS `sisane`.`paciente` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `dni` VARCHAR(255) NULL,
  `name` VARCHAR(255) NULL,
  `primer_apellido` VARCHAR(255) NULL,
  `segundo_apellido` VARCHAR(255) NULL,
  `login` VARCHAR(255) NULL,
  `password` VARCHAR(255) NULL,
  `estado` VARCHAR(255) NULL,
  `direccion` VARCHAR(255) NULL,
  `ciudad` VARCHAR(255) NULL,
  `codigopostal` VARCHAR(255) NULL,
  `provincia` VARCHAR(255) NULL,
  `pais` VARCHAR(255) NULL,
  `email` VARCHAR(255) NULL,
  `telefono` VARCHAR(255) NULL,
  `id_servicio` INT NULL,
  `fecha_salida` VARCHAR(45) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_paciente_servicio1_idx` (`id_servicio` ASC),
  CONSTRAINT `fk_paciente_servicio`
    FOREIGN KEY (`id_servicio`)
    REFERENCES `sisane`.`servicio` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sisane`.`especialidad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`especialidad` ;

CREATE TABLE IF NOT EXISTS `sisane`.`especialidad` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`medico`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`medico` ;

CREATE TABLE IF NOT EXISTS `sisane`.`medico` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(255) NULL,
  `primer_apellido` VARCHAR(255) NULL,
  `segundo_apellido` VARCHAR(255) NULL,
  `id_servicio` INT NULL,
  `id_especialidad` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_medico_servicio1_idx` (`id_servicio` ASC),
  INDEX `fk_medico_especialidad1_idx` (`id_especialidad` ASC),
  CONSTRAINT `fk_medico_servicio`
    FOREIGN KEY (`id_servicio`)
    REFERENCES `sisane`.`servicio` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_medico_especialidad`
    FOREIGN KEY (`id_especialidad`)
    REFERENCES `sisane`.`especialidad` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`prioridad`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`prioridad` ;

CREATE TABLE IF NOT EXISTS `sisane`.`prioridad` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`episodio`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`episodio` ;

CREATE TABLE IF NOT EXISTS `sisane`.`episodio` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATETIME NULL,
  `informe` LONGTEXT NULL,
  `id_importancia` INT NULL,
  `id_servicio` INT NULL,
  `id_tipo` INT NULL,
  `importe` DECIMAL NULL,
  `id_paciente` INT NULL,
  `id_medico` INT NULL,
  `id_episodio` INT NULL,
  `prioridad_id` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_episodio_servicio1_idx` (`id_servicio` ASC),
  INDEX `fk_episodio_tipo1_idx` (`id_tipo` ASC),
  INDEX `fk_episodio_importancia_idx` (`id_importancia` ASC),
  INDEX `fk_episodio_paciente1_idx` (`id_paciente` ASC),
  INDEX `fk_episodio_medico1_idx` (`id_medico` ASC),
  INDEX `fk_episodio_episodio1_idx` (`id_episodio` ASC),
  INDEX `fk_episodio_prioridad1_idx` (`prioridad_id` ASC),
  CONSTRAINT `fk_episodio_importancia`
    FOREIGN KEY (`id_importancia`)
    REFERENCES `sisane`.`importancia` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_episodio_servicio`
    FOREIGN KEY (`id_servicio`)
    REFERENCES `sisane`.`servicio` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_episodio_tipo`
    FOREIGN KEY (`id_tipo`)
    REFERENCES `sisane`.`tipo` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_episodio_paciente`
    FOREIGN KEY (`id_paciente`)
    REFERENCES `sisane`.`paciente` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_episodio_medico`
    FOREIGN KEY (`id_medico`)
    REFERENCES `sisane`.`medico` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_episodio_episodio`
    FOREIGN KEY (`id_episodio`)
    REFERENCES `sisane`.`episodio` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_episodio_prioridad`
    FOREIGN KEY (`prioridad_id`)
    REFERENCES `sisane`.`prioridad` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`medicamento`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`medicamento` ;

CREATE TABLE IF NOT EXISTS `sisane`.`medicamento` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`via`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`via` ;

CREATE TABLE IF NOT EXISTS `sisane`.`via` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  `id_medicamento` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_via_medicamento1_idx` (`id_medicamento` ASC),
  CONSTRAINT `fk_via_medicamento`
    FOREIGN KEY (`id_medicamento`)
    REFERENCES `sisane`.`medicamento` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`posologia`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`posologia` ;

CREATE TABLE IF NOT EXISTS `sisane`.`posologia` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  `id_medicamento` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_posologia_medicamento1_idx` (`id_medicamento` ASC),
  CONSTRAINT `fk_posologia_medicamento`
    FOREIGN KEY (`id_medicamento`)
    REFERENCES `sisane`.`medicamento` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`tipodiagnostico`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`tipodiagnostico` ;

CREATE TABLE IF NOT EXISTS `sisane`.`tipodiagnostico` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`diagnostico`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`diagnostico` ;

CREATE TABLE IF NOT EXISTS `sisane`.`diagnostico` (
  `id` INT NOT NULL,
  `informe` LONGTEXT NULL,
  `fecha` DATETIME NULL,
  `id_episodio` INT NULL,
  `id_tipodiagnostico` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_diagnostico_episodio1_idx` (`id_episodio` ASC),
  INDEX `fk_diagnostico_tipodiagnostico1_idx` (`id_tipodiagnostico` ASC),
  CONSTRAINT `fk_diagnostico_episodio`
    FOREIGN KEY (`id_episodio`)
    REFERENCES `sisane`.`episodio` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_diagnostico_tipodiagnostico`
    FOREIGN KEY (`id_tipodiagnostico`)
    REFERENCES `sisane`.`tipodiagnostico` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sisane`.`tratamiento`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`tratamiento` ;

CREATE TABLE IF NOT EXISTS `sisane`.`tratamiento` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `id_medicamento` INT NULL,
  `fecha_inicio` DATETIME NULL,
  `fecha_fin` DATETIME NULL,
  `cuidados` LONGTEXT NULL,
  `id_via` INT NULL,
  `id_posologia` INT NULL,
  `importe` DOUBLE NULL,
  `diagnostico_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_paciente_has_medicamento_medicamento1_idx` (`id_medicamento` ASC),
  INDEX `fk_tratamiento_via1_idx` (`id_via` ASC),
  INDEX `fk_tratamiento_posologia1_idx` (`id_posologia` ASC),
  INDEX `fk_tratamiento_diagnostico1_idx` (`diagnostico_id` ASC),
  CONSTRAINT `fk_tratamiento_medicamento`
    FOREIGN KEY (`id_medicamento`)
    REFERENCES `sisane`.`medicamento` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tratamiento_via`
    FOREIGN KEY (`id_via`)
    REFERENCES `sisane`.`via` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tratamiento_posologia`
    FOREIGN KEY (`id_posologia`)
    REFERENCES `sisane`.`posologia` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_tratamiento_diagnostico1`
    FOREIGN KEY (`diagnostico_id`)
    REFERENCES `sisane`.`diagnostico` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`tecnica`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`tecnica` ;

CREATE TABLE IF NOT EXISTS `sisane`.`tecnica` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`imagen`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`imagen` ;

CREATE TABLE IF NOT EXISTS `sisane`.`imagen` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  `fecha` DATETIME NULL,
  `ubicacion` VARCHAR(255) NULL,
  `id_tecnica` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_imagen_tecnica1_idx` (`id_tecnica` ASC),
  CONSTRAINT `fk_imagen_tecnica1`
    FOREIGN KEY (`id_tecnica`)
    REFERENCES `sisane`.`tecnica` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`tipomuestra`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`tipomuestra` ;

CREATE TABLE IF NOT EXISTS `sisane`.`tipomuestra` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`anticoagulante`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`anticoagulante` ;

CREATE TABLE IF NOT EXISTS `sisane`.`anticoagulante` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`analitica`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`analitica` ;

CREATE TABLE IF NOT EXISTS `sisane`.`analitica` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `informe` LONGTEXT NULL,
  `fecha_peticion` DATETIME NULL,
  `importe` DOUBLE NULL,
  `id_tipomuestra` INT NULL,
  `id_anticoagulante` INT NULL,
  `id_prioridad` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_analitica_tipomuestra1_idx` (`id_tipomuestra` ASC),
  INDEX `fk_analitica_anticoagulante1_idx` (`id_anticoagulante` ASC),
  INDEX `fk_analitica_prioridad1_idx` (`id_prioridad` ASC),
  CONSTRAINT `fk_analitica_tipomuestra1`
    FOREIGN KEY (`id_tipomuestra`)
    REFERENCES `sisane`.`tipomuestra` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_analitica_anticoagulante1`
    FOREIGN KEY (`id_anticoagulante`)
    REFERENCES `sisane`.`anticoagulante` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_analitica_prioridad1`
    FOREIGN KEY (`id_prioridad`)
    REFERENCES `sisane`.`prioridad` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`prueba`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`prueba` ;

CREATE TABLE IF NOT EXISTS `sisane`.`prueba` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `informe` LONGTEXT NULL,
  `fecha_peticion` DATETIME NULL,
  `id_episodio` INT NULL,
  `importe` DOUBLE NULL,
  `imagen_id` INT NULL,
  `analitica_id` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_prueba_episodio1_idx` (`id_episodio` ASC),
  INDEX `fk_prueba_imagen1_idx` (`imagen_id` ASC),
  INDEX `fk_prueba_analitica1_idx` (`analitica_id` ASC),
  CONSTRAINT `fk_prueba_episodio`
    FOREIGN KEY (`id_episodio`)
    REFERENCES `sisane`.`episodio` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_prueba_imagen`
    FOREIGN KEY (`imagen_id`)
    REFERENCES `sisane`.`imagen` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_prueba_analitica`
    FOREIGN KEY (`analitica_id`)
    REFERENCES `sisane`.`analitica` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`zona`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`zona` ;

CREATE TABLE IF NOT EXISTS `sisane`.`zona` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`zonaimagen`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`zonaimagen` ;

CREATE TABLE IF NOT EXISTS `sisane`.`zonaimagen` (
  `id` INT NULL AUTO_INCREMENT,
  `id_zona` INT NULL,
  `id_imagen` INT NULL,
  INDEX `fk_zona_imagen_imagen1_idx` (`id_imagen` ASC),
  INDEX `fk_zona_imagen_zona1_idx` (`id_zona` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_zona_imagen_zona`
    FOREIGN KEY (`id_zona`)
    REFERENCES `sisane`.`zona` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_zona_imagen_imagen`
    FOREIGN KEY (`id_imagen`)
    REFERENCES `sisane`.`imagen` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_unicode_ci;


-- -----------------------------------------------------
-- Table `sisane`.`tipodocumento`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`tipodocumento` ;

CREATE TABLE IF NOT EXISTS `sisane`.`tipodocumento` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sisane`.`documento`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`documento` ;

CREATE TABLE IF NOT EXISTS `sisane`.`documento` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  `fecha` DATETIME NULL,
  `id_tipodocumento` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_document_documenttype_idx` (`id_tipodocumento` ASC),
  CONSTRAINT `fk_document_tipodocumento`
    FOREIGN KEY (`id_tipodocumento`)
    REFERENCES `sisane`.`tipodocumento` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sisane`.`cargo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`cargo` ;

CREATE TABLE IF NOT EXISTS `sisane`.`cargo` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `id_documento` INT NULL,
  `date` DATETIME NULL,
  `id_episodio` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_buy_document_idx` (`id_documento` ASC),
  INDEX `fk_cargo_episodio1_idx` (`id_episodio` ASC),
  CONSTRAINT `fk_cargo_documento`
    FOREIGN KEY (`id_documento`)
    REFERENCES `sisane`.`documento` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_cargo_episodio`
    FOREIGN KEY (`id_episodio`)
    REFERENCES `sisane`.`episodio` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sisane`.`tipousuario`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`tipousuario` ;

CREATE TABLE IF NOT EXISTS `sisane`.`tipousuario` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(255) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `sisane`.`usuario`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `sisane`.`usuario` ;

CREATE TABLE IF NOT EXISTS `sisane`.`usuario` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `login` VARCHAR(255) NULL,
  `password` VARCHAR(255) NULL,
  `id_usertype` INT NULL,
  `id_medico` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_usuario_usertype1_idx` (`id_usertype` ASC),
  INDEX `fk_usuario_medico1_idx` (`id_medico` ASC),
  CONSTRAINT `fk_usuario_tipousuario`
    FOREIGN KEY (`id_usertype`)
    REFERENCES `sisane`.`tipousuario` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
  CONSTRAINT `fk_usuario_medico`
    FOREIGN KEY (`id_medico`)
    REFERENCES `sisane`.`medico` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;


-- -------------------------------------------------------
-- -------------------------------------------------------
-- -------------------------------------------------------
-- -------------------------------------------------------
-- -------------------------------------------------------
-- -------------------------------------------------------
-- -------------------------------------------------------
-- -------------------------------------------------------
-- -------------------------------------------------------

-- phpMyAdmin SQL Dump
-- version 4.6.3
-- https://www.phpmyadmin.net/
--
-- Servidor: localhost:3306
-- Tiempo de generación: 01-12-2016 a las 11:01:36
-- Versión del servidor: 5.6.32
-- Versión de PHP: 5.6.25

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `sisane`
--

--
-- Volcado de datos para la tabla `importancia`
--

INSERT INTO `importancia` (`id`, `descripcion`) VALUES
(1, 'irrelevante'),
(2, 'leve'),
(3, 'moderada'),
(4, 'severa'),
(5, 'grave'),
(6, 'muy grave'),
(7, 'crítica'),
(8, 'fatal'),
(9, 'mortal'),
(10, 'desconocida');

--
-- Volcado de datos para la tabla `medicamento`
--

INSERT INTO `medicamento` (`id`, `descripcion`) VALUES
(1, 'acetadote'),
(2, 'tylenol'),
(3, 'dulcolax'),
(4, 'hibiclens'),
(5, 'valium'),
(6, 'teveten'),
(7, 'motrin'),
(8, 'vicodin'),
(9, 'neurontin'),
(10, 'antizol'),
(11, 'isuprel'),
(12, 'mutamycin'),
(13, 'levatol'),
(14, 'trental'),
(15, 'astudal');

--
-- Volcado de datos para la tabla `posologia`
--

INSERT INTO `posologia` (`id`, `descripcion`, `id_medicamento`) VALUES
(1, 'desayuno, comida, cena', 2),
(2, 'comida, cena', 4),
(3, 'desayuno', 6),
(4, 'desayuno, cena', 1),
(5, 'cena', 8),
(6, 'desayuno, comida', 9),
(7, 'desayuno', 2),
(8, 'desayuno, comida, cena', 7),
(9, 'comida, cena', 5),
(10, 'cena', 4);

--
-- Volcado de datos para la tabla `via`
--

INSERT INTO `via` (`id`, `descripcion`, `id_medicamento`) VALUES
(1, 'Via oral', 1),
(2, 'Via sublingual', 2),
(3, 'Via topica', 3),
(4, 'Via transdermica', 4),
(5, 'Via oftalmica', 5),
(6, 'Via otica', 6),
(7, 'Via intranasal', 7),
(8, 'Via intravenosa', 8),
(9, 'Via intramuscular', 9),
(10, 'Via subcutanea', 10);

--
-- Volcado de datos para la tabla `zona`
--

INSERT INTO `zona` (`id`, `descripcion`) VALUES
(1, 'cabeza'),
(2, 'brazo'),
(3, 'torax'),
(4, 'lumbar'),
(5, 'pierna'),
(6, 'pie'),
(7, 'mano'),
(8, 'rodilla'),
(9, 'tobillo'),
(10, 'coxis');

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
